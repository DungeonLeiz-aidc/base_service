# ===========================================
# APPLICATION SETTINGS
# ===========================================
PROJECT_NAME=OrderPlacementService
DEBUG=False
ENVIRONMENT=development
LOG_FORMAT=pretty

# ===========================================
# API SETTINGS
# ===========================================
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api
API_RELOAD=True

# ==============================================================================
# DATABASE - PostgreSQL (Source of Truth for Orders & Products)
# ===========================================
# Local: postgresql+asyncpg://postgres:password@localhost:5433/oms_db
DATABASE_URL=postgresql+asyncpg://postgres:password@db:5432/oms_db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_ECHO=False

# ===========================================
# REDIS - Inventory Caching & Distributed Locking
# ===========================================
# Local: redis://localhost:6380/0
REDIS_URL=redis://redis:6379/0
REDIS_MAX_CONNECTIONS=50
REDIS_DECODE_RESPONSES=True
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Inventory Lock Settings
INVENTORY_LOCK_TIMEOUT=30
INVENTORY_LOCK_SLEEP=0.1

# ===========================================
# RABBITMQ - Event-Driven Processing
# ===========================================
# Local: amqp://guest:guest@localhost:5673/
RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/
RABBITMQ_EXCHANGE=order_events
RABBITMQ_EXCHANGE_TYPE=topic
RABBITMQ_QUEUE_DURABLE=True
RABBITMQ_PREFETCH_COUNT=10

# ===========================================
# CORS SETTINGS
# ===========================================
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000"]
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

# ===========================================
# SECURITY
# ===========================================
SECRET_KEY=your-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# ===========================================
# INTERNAL SERVICE COMMUNICATION
# ===========================================
AUTH_SERVICE_URL=http://auth-service:8000
INTERNAL_API_KEY=your-internal-api-key

# ===========================================
# ORDER MANAGEMENT SETTINGS
# ===========================================
MAX_ORDER_ITEMS=50
ORDER_TIMEOUT=300
INVENTORY_CHECK_RETRIES=3
